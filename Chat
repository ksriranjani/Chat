 import requests
import json
import os

def get_llm_response(question):
    api_key = os.getenv("GEMINI_API_KEY") or "YOUR_API_KEY"
    url = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=" + api_key

    payload = {
        "contents": [{
            "parts": [{"text": f"Answer this user query briefly and clearly: {question}"}]
        }]
    }

    headers = {"Content-Type": "application/json"}

    try:
        response = requests.post(url, headers=headers, data=json.dumps(payload))
        result = response.json()
        return result['candidates'][0]['content']['parts'][0]['text']
    except Exception as e:
        print("Gemini API Error:", e)
        return "Sorry, I couldn't fetch an answer right now."
